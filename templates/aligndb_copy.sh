#!/bin/sh

rm -f *_Align.pool.root
rm -f *_ALLP200.db
rm -f PoolFileCatalog.xml
rm -f writeAlignment_*.log
rm ./data/poolcond/*.pool.root
rm ./data/poolcond/PoolFileCatalog.xml
rm ./data/poolcond/PoolCat_oflcond.xml
# rm /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/*.pool.root
# rm /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/PoolFileCatalog.xml
# rm /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/PoolCat_oflcond.xml
#python WriteAlignmentConfig_Faser01.py 
python WriteAlignmentConfig_Faser04.py 'AlignDbTool.AlignmentConstants={"10": [0.044208, -0.0115047, 0, -0.00408836, 0.0022689, 0.000421973],"100": [-0.0150663, 0, 0, 0, 0, 0.000306036],"101": [-0.0927131, 0, 0, 0, 0, 9.32215e-05],"102": [0.0450145, 0, 0, 0, 0, 0.0012967],"103": [-0.117091, 0, 0, 0, 0, -0.00100744],"104": [0.043258, 0, 0, 0, 0, -0.000609634],"105": [0.0425733, 0, 0, 0, 0, 0.000688239],"106": [0.0875693, 0, 0, 0, 0, -0.0010038],"107": [0.0064557, 0, 0, 0, 0, 0.000236702],"11": [0, 0, 0, 0, 0, 0],"110": [0, 0, 0, 0, 0, 0],"111": [0, 0, 0, 0, 0, 0],"112": [0, 0, 0, 0, 0, 0],"113": [0, 0, 0, 0, 0, 0],"114": [0, 0, 0, 0, 0, 0],"115": [0, 0, 0, 0, 0, 0],"116": [0, 0, 0, 0, 0, 0],"117": [3.7655e-23, 0, 0, 0, 0, -8.56314e-25],"12": [0.169881, -0.0504153, 0, 0.00570592, -0.000476773, -0.000471267],"120": [0.0059358, 0, 0, 0, 0, 0.000769891],"121": [0.041764, 0, 0, 0, 0, -0.00126413],"122": [0.0440217, 0, 0, 0, 0, 0.000735105],"123": [0.0240522, 0, 0, 0, 0, -0.00102873],"124": [-0.0399053, 0, 0, 0, 0, -0.000229851],"125": [-0.0127171, 0, 0, 0, 0, 0.000483001],"126": [-0.0222343, 0, 0, 0, 0, -0.000161099],"127": [-0.0409142, 0, 0, 0, 0, 0.000695787],"20": [-0.0114437, -0.0412105, 0, 0.009882, 0.00313236, -0.000334817],"200": [-0.0290306, 0, 0, 0, 0, -0.00144966],"201": [0.0456278, 0, 0, 0, 0, -0.000402364],"202": [-0.0250472, 0, 0, 0, 0, -0.0002064],"203": [0.0591641, 0, 0, 0, 0, 0.000540919],"204": [-0.0073795, 0, 0, 0, 0, 0.00140946],"205": [-0.0431546, 0, 0, 0, 0, -0.000877765],"206": [0.0275974, 0, 0, 0, 0, 0.00103612],"207": [-0.0277784, 0, 0, 0, 0, -5.02928e-05],"21": [-0.0437002, -0.00227152, 0, 0.00705613, 0.00327689, -0.000122029],"210": [-0.0524196, 0, 0, 0, 0, -0.000599628],"211": [0.0208948, 0, 0, 0, 0, 0.000599175],"212": [-0.0272377, 0, 0, 0, 0, -0.000627447],"213": [0.0214524, 0, 0, 0, 0, -0.000243221],"214": [0.0337202, 0, 0, 0, 0, 0.000965258],"215": [-0.0291123, 0, 0, 0, 0, 0.000554682],"216": [0.0398815, 0, 0, 0, 0, -0.00019656],"217": [-0.00718056, 0, 0, 0, 0, -0.000452259],"22": [-0.0173912, 0.00660571, 0, 0.00373572, 0.00379494, -0.000353718],"220": [-0.0398098, 0, 0, 0, 0, -0.00109094],"221": [0.0079751, 0, 0, 0, 0, 0.000334331],"222": [-0.0126184, 0, 0, 0, 0, -0.000140049],"223": [0.0488542, 0, 0, 0, 0, 0.000539399],"224": [0.0179404, 0, 0, 0, 0, 0.000525151],"225": [-0.0237498, 0, 0, 0, 0, -0.000226488],"226": [0.0195299, 0, 0, 0, 0, 0.000754439],"227": [-0.01812, 0, 0, 0, 0, -0.00069583],"30": [-0.0163053, 0.0131267, 0, -0.00095153, 7.04313e-05, -1.96656e-05],"300": [-0.0690153, 0, 0, 0, 0, -0.000641132],"301": [0.0191174, 0, 0, 0, 0, 0.000839268],"302": [0.0152034, 0, 0, 0, 0, 0.00134483],"303": [0.00841179, 0, 0, 0, 0, -0.000645201],"304": [0.0285483, 0, 0, 0, 0, -0.000167841],"305": [0.00651639, 0, 0, 0, 0, -7.84076e-05],"306": [0.0212237, 0, 0, 0, 0, 0.000617982],"307": [-0.0300068, 0, 0, 0, 0, -0.0012695],"31": [0, 0, 0, 0, 0, 0],"310": [0, 0, 0, 0, 0, 0],"311": [0, 0, 0, 0, 0, 0],"312": [0, 0, 0, 0, 0, 0],"313": [0, 0, 0, 0, 0, 0],"314": [0, 0, 0, 0, 0, 0],"315": [0, 0, 0, 0, 0, 0],"316": [0, 0, 0, 0, 0, 0],"317": [4.97833e-23, 0, 0, 0, 0, 7.48792e-25],"32": [-0.0122113, -0.00950439, 0, 6.78971e-05, -0.000339309, -0.000198306],"320": [-0.0745419, 0, 0, 0, 0, -0.00163347],"321": [0.0616071, 0, 0, 0, 0, 0.00125258],"322": [-0.0463256, 0, 0, 0, 0, -0.000696134],"323": [0.0470574, 0, 0, 0, 0, -0.000101876],"324": [0.0314638, 0, 0, 0, 0, 0.000647356],"325": [0.00196897, 0, 0, 0, 0, -0.000881307],"326": [0.0156865, 0, 0, 0, 0, 0.00139365],"327": [-0.0369172, 0, 0, 0, 0, 1.92135e-05]}' >& writeAlignment_Faser04.log

AtlCoolConsole.py "sqlite://;schema=FASER-04_ALLP200.db;dbname=CONDBR3"

#AtlCoolCopy "sqlite://;schema=./FASER-01_ALLP200.db;dbname=CONDBR3" "sqlite://;schema=data/sqlite200/ALLP200.db;dbname=CONDBR3" -fnp -ot "TRACKER-ALIGN-01"
AtlCoolCopy "sqlite://;schema=./FASER-04_ALLP200.db;dbname=CONDBR3" "sqlite://;schema=data/sqlite200/ALLP200.db;dbname=CONDBR3" -fnp -ot "TRACKER-ALIGN-04"

AtlCoolConsole.py "sqlite://;schema=data/sqlite200/ALLP200.db;dbname=CONDBR3" < AtlCoolConsole_CONDBR3_input.txt

AtlCoolConsole.py "sqlite://;schema=data/sqlite200/ALLP200.db;dbname=OFLP200" < AtlCoolConsole_OFLP200_input.txt

cp PoolFileCatalog.xml data/poolcond/
ln -s ${PWD}/data/poolcond/PoolFileCatalog.xml ${PWD}/data/poolcond/PoolCat_oflcond.xml
cp *_Align.pool.root data/poolcond/

#cp PoolFileCatalog.xml /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/
#ln -s /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/PoolFileCatalog.xml /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/PoolCat_oflcond.xml
#cp *_Align.pool.root /afs/cern.ch/work/t/tarai/202404_calypso/run/data/poolcond/
